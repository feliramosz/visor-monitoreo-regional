<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Monitoreo Regional - SENAPRED Valpara√≠so</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <link rel="stylesheet" href="style.css">
</head>
<body class="dashboard-body">
    <header>
        <div class="logo-left"><img src="assets/bnnr_line_sup.png" alt="Logo SENAPRED"></div>
        <div class="header-clock">
            <div class="led-clock" id="clock-continental"><span class="digit">0</span><span class="digit">0</span><span class="separator">:</span><span class="digit">0</span><span class="digit">0</span><span class="separator">:</span><span class="digit">0</span><span class="digit">0</span></div>
            <h3>HORA DE CHILE CONTINENTAL</h3>
        </div>
        <div class="header-title-container">
            <h1>ESTADO DE SITUACION REGIONAL  -  SENAPRED VALPARAISO</h1>
            <div id="header-alert-banner" class="hidden"></div>
        </div>
        <div class="header-clock">
            <div class="led-clock" id="clock-rapa-nui"><span class="digit">0</span><span class="digit">0</span><span class="separator">:</span><span class="digit">0</span><span class="digit">0</span><span class="separator">:</span><span class="digit">0</span><span class="digit">0</span></div>
            <h3>HORA RAPA NUI</h3>
        </div>
        <div class="logo-right"><img src="assets/logo_circ.jpg" alt="Logo Gobierno de Chile"></div>
    </header>
    <div id="weather-banner-container" class="weather-banner"></div>
    
    <main class="dashboard-grid">
        <div class="dashboard-column">
            <div id="panel-mapas" class="dashboard-panel">
                <div class="panel-header-flex">
                    <h3 id="map-panel-title">Calidad del Aire (SINCA)</h3>
                    <button id="air-quality-details-btn" class="footer-icon-btn" title="Ver detalle de estaciones con novedad">&#9432;</button>
                </div>
                <div id="map-carousel-container">
                    <div id="map-slide-air" class="map-slide active-map-slide">
                        <div id="air-quality-map-container-dashboard"></div>
                    </div>
                    <div id="map-slide-meteo" class="map-slide">
                        <div id="precipitation-map-container-dashboard"></div>
                    </div>
                </div>
                <div id="air-quality-alert-panel-dashboard"></div>
                <div id="map-carousel-controls">
                    <button id="map-pause-play-btn">Pausar</button>
                    <button id="map-prev-btn">&lt; Anterior</button>
                    <button id="map-next-btn">Siguiente &gt;</button>
                </div>
            </div>
        </div>

        <div id="central-carousel-container"></div>

        <div class="dashboard-column">
            <div id="right-column-carousel-container" class="dashboard-panel-container"></div>
        </div>
    </main>
    <footer>
        <div id="dashboard-controls-container">
            <button id="setViewSummerBtn" class="view-switch-btn" title="Visualizaci√≥n de Verano">‚òÄÔ∏è</button>
            <button id="setViewWinterBtn" class="view-switch-btn" title="Visualizaci√≥n de Invierno">üåßÔ∏è</button>
            <span class="control-separator"></span>
            <label>Panel Sup.:</label>
            <input type="checkbox" id="showWeatherSlide" title="Clima" checked>
            <input type="checkbox" id="showHydroSlide" title="Hidrolog√≠a y Turnos" checked>
            
            <label style="margin-left: 10px;">Panel Cent.:</label>
            <input type="checkbox" id="showAlertsSlide" title="Alertas y Avisos" checked>
            <input type="checkbox" id="showSecDataSlide" title="Suministro El√©ctrico (SEC)" checked>
            <input type="checkbox" id="showImageSlides" title="Im√°genes" checked>

            <label style="margin-left: 10px;">Panel Der.:</label>
            <input type="checkbox" id="showNovedadesPanel" title="Novedades" checked>
            <input type="checkbox" id="showEmergenciasPanel" title="Emergencias" checked>
            <input type="checkbox" id="showWazePanel" title="Waze" checked>
            <label style="margin-left: 10px;" for="toggleNotifications">Sonido on/off:</label>
            <input type="checkbox" id="toggleNotifications" checked>
            <button id="portsModalBtn" class="footer-icon-btn" title="Estado de Puertos">&#9875;</button>
        </div>
        <div id="notification-marquee-container">
            <p id="notification-marquee-text"></p>
        </div>
        <p>&copy; 2025 Sitio desarrollado por la UNIDAD DE ALERTA TEMPRANA de SENAPRED Valpara√≠so - Felipe Ramos Zamora</p>
    </footer>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="boletin-logic.js"></script>
    <script src="dashboard.js"></script>

    <div id="sec-commune-modal" class="sec-modal-overlay" style="display: none;">
        <div class="sec-modal-content">
            <div class="sec-modal-header">
                <h4 id="sec-modal-title">Desglose Comunal</h4>
                <button id="sec-modal-close" class="sec-modal-close-btn">&times;</button>
            </div>
            <div id="sec-modal-body" class="sec-modal-body">
                </div>
        </div>
    </div>

    <div id="ports-modal" class="sec-modal-overlay" style="display: none;">
        <div class="sec-modal-content">
            <div class="sec-modal-header">
                <h4 id="ports-modal-title">Estado de Puertos en Tiempo Real</h4>
                <button id="ports-modal-close" class="sec-modal-close-btn">&times;</button>
            </div>
            <div id="ports-modal-body" class="sec-modal-body">
                </div>
        </div>
    </div>

    <div id="air-quality-modal" class="sec-modal-overlay" style="display: none;">
        <div class="sec-modal-content">
            <div class="sec-modal-header">
                <h4 id="air-quality-modal-title">Estaciones con Novedad</h4>
                <button id="air-quality-modal-close" class="sec-modal-close-btn">&times;</button>
            </div>
            <div id="air-quality-modal-body" class="sec-modal-body">
                </div>
        </div>
    </div>

    </body>    
</body>
</html>